# Simple test environment for sprite-env
FROM golang:1.24-alpine

# Install build and runtime dependencies
RUN apk add --no-cache \
    git \
    make \
    ca-certificates \
    curl \
    netcat-openbsd \
    procps

# Create directories
RUN mkdir -p /opt/sprite /workspace

# Set up entrypoint script
COPY start-server.sh /opt/sprite/
RUN chmod +x /opt/sprite/start-server.sh

# Expose port
EXPOSE 8080

# Start the server
CMD ["/opt/sprite/start-server.sh"]
